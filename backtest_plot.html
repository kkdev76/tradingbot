
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <title>Backtest Visualization</title>
</head>
<body>
<div id="price_plot" style="height: 50vh;"></div>
<div id="macd_plot" style="height: 40vh;"></div>

<script>
    const price_trace = {
        x: ["2025-07-30T09:30:00+00:00", "2025-07-30T09:31:00+00:00", "2025-07-30T09:32:00+00:00", "2025-07-30T09:33:00+00:00", "2025-07-30T09:34:00+00:00", "2025-07-30T09:35:00+00:00", "2025-07-30T09:36:00+00:00", "2025-07-30T09:37:00+00:00", "2025-07-30T09:38:00+00:00", "2025-07-30T09:39:00+00:00"],
        y: [100.0, 100.2, 100.4, 100.6, 100.8, 101.0, 101.2, 101.4, 101.6, 101.8],
        type: 'scatter',
        mode: 'lines',
        name: 'Price',
        line: { color: 'black' }
    };

    const macd_trace = {
        x: ["2025-07-30T09:30:00+00:00", "2025-07-30T09:31:00+00:00", "2025-07-30T09:32:00+00:00", "2025-07-30T09:33:00+00:00", "2025-07-30T09:34:00+00:00", "2025-07-30T09:35:00+00:00", "2025-07-30T09:36:00+00:00", "2025-07-30T09:37:00+00:00", "2025-07-30T09:38:00+00:00", "2025-07-30T09:39:00+00:00"],
        y: [0.1, 0.11, 0.12000000000000001, 0.13, 0.14, 0.15000000000000002, 0.16, 0.17, 0.18, 0.19],
        type: 'scatter',
        mode: 'lines',
        name: 'MACD',
        line: { dash: 'dot', color: 'blue' }
    };

    const signal_trace = {
        x: ["2025-07-30T09:30:00+00:00", "2025-07-30T09:31:00+00:00", "2025-07-30T09:32:00+00:00", "2025-07-30T09:33:00+00:00", "2025-07-30T09:34:00+00:00", "2025-07-30T09:35:00+00:00", "2025-07-30T09:36:00+00:00", "2025-07-30T09:37:00+00:00", "2025-07-30T09:38:00+00:00", "2025-07-30T09:39:00+00:00"],
        y: [0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15000000000000002, 0.16, 0.16999999999999998],
        type: 'scatter',
        mode: 'lines',
        name: 'Signal',
        line: { dash: 'dot', color: 'orange' }
    };

    const buy_markers = {
        x: ["2025-07-30T09:32:00+00:00"],
        y: [100.4],
        mode: 'markers+text',
        type: 'scatter',
        name: 'Buy',
        marker: { color: 'green', size: 12, symbol: 'triangle-up' },
        text: Array(["2025-07-30T09:32:00+00:00"].length).fill('Buy'),
        textposition: 'top center'
    };

    const sell_markers = {
        x: ["2025-07-30T09:37:00+00:00"],
        y: [101.4],
        mode: 'markers+text',
        type: 'scatter',
        name: 'Sell',
        marker: { color: 'red', size: 12, symbol: 'triangle-down' },
        text: Array(["2025-07-30T09:37:00+00:00"].length).fill('Sell'),
        textposition: 'bottom center'
    };

    const price_layout = {
        title: 'Stock Price',
        margin: { t: 50 },
        showlegend: true,
        xaxis: { rangeslider: { visible: false }, title: 'Time' },
        yaxis: { title: 'Price' }
    };

    const macd_layout = {
        title: 'MACD & Signal',
        margin: { t: 30 },
        showlegend: true,
        xaxis: { matches: 'x1', title: 'Time' },
        yaxis: { title: 'Value' }
    };

    Plotly.newPlot('price_plot', [price_trace, buy_markers, sell_markers], price_layout);
    Plotly.newPlot('macd_plot', [macd_trace, signal_trace], macd_layout);
</script>
</body>
</html>
